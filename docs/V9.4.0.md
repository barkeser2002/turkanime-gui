# TÃ¼rkAnime Ä°ndirici v9.4.0 Release Notes

## Genel BakÄ±ÅŸ
v9.4.0 sÃ¼rÃ¼mÃ¼ Anizle kaynaÄŸÄ±nÄ±n tam entegrasyonunu getiriyor. Cloudflare bypass sistemini gÃ¼Ã§lendirdik, performansÄ± ciddi Ã¶lÃ§Ã¼de iyileÅŸtirdik ve paralel iÅŸleme desteÄŸi ekledik. Anizle API'si baÅŸtan yazÄ±ldÄ± ve GUI'ye eklendi.

## SÃ¼rÃ¼m Bilgileri
- SÃ¼rÃ¼m: 9.4.0
- Tarih: 16 AralÄ±k 2025
- Tip: Major Feature Release
- Ã–nceki SÃ¼rÃ¼m: 9.4.0

## âœ¨ Yeni Ã–zellikler ve Ä°yileÅŸtirmeler

### ğŸŒ Anizle KaynaÄŸÄ± Tam Entegrasyonu
#### + Eklenen Ã–zellikler:
- **Anizle API KeÅŸfi**: anizm.pro ve anizle.org API'leri tamamen analiz edildi
- **JavaScript Unpacker**: Dean Edwards' packed JS decoder implementasyonu
- **FirePlayer Entegrasyonu**: anizmplayer.com Ã¼zerinden HLS stream Ã§Ä±karma
- **Paralel Stream Ä°ÅŸleme**: ThreadPoolExecutor ile 8 worker paralel iÅŸlem
- **GUI Entegrasyonu**: Anizle artÄ±k GUI'de kaynak olarak gÃ¶rÃ¼nÃ¼yor

#### ~ Ä°yileÅŸtirilen Ã–zellikler:
- **Stream Getirme HÄ±zÄ±**: 30+ saniyeden ~13 saniyeye dÃ¼ÅŸÃ¼rÃ¼ldÃ¼
- **HTTP Timeout**: 60 saniyeden 10 saniyeye optimize edildi
- **Sessiz Hatalar**: Gereksiz log mesajlarÄ± kaldÄ±rÄ±ldÄ±

### ğŸ” Cloudflare Bypass Ä°yileÅŸtirmeleri
#### + Eklenen Ã–zellikler:
- **curl_cffi Entegrasyonu**: Chrome 110 tarayÄ±cÄ± taklit desteÄŸi
- **Cookie YÃ¶netimi**: Otomatik CF cookie kaydetme ve yÃ¼kleme
- **Impersonate DesteÄŸi**: GeliÅŸmiÅŸ tarayÄ±cÄ± parmak izi

#### ~ Ä°yileÅŸtirilen Ã–zellikler:
- **AnimeCix Bypass**: CF korumalÄ± sayfalara eriÅŸim iyileÅŸtirildi
- **Referer Header**: API isteklerinde doÄŸru Referer kullanÄ±mÄ±

### ğŸ¬ Video Oynatma Ä°yileÅŸtirmeleri
#### + Eklenen Ã–zellikler:
- **MPV Fallback**: bin/mpv.exe uyumsuzsa sistem MPV kullanÄ±mÄ±
- **Binary Uyumluluk KontrolÃ¼**: WinError 216 otomatik yakalama
- **AdapterVideo.oynat()**: Yeni video oynatma metodu

#### ~ Ä°yileÅŸtirilen Ã–zellikler:
- **Hata YÃ¶netimi**: proc is None kontrolÃ¼ eklendi
- **User-Agent**: HLS stream'ler iÃ§in doÄŸru header

### ğŸ¨ Frontend/GUI DeÄŸiÅŸiklikleri
#### + Eklenen Ã–zellikler:
- **Anizle Kaynak DesteÄŸi**: GUI'de Anizle bÃ¶lÃ¼mleri gÃ¶rÃ¼ntÃ¼leme
- **display_sources GÃ¼ncelleme**: Anizle filtreye eklendi

#### ~ Ä°yileÅŸtirilen Ã–zellikler:
- **Kaynak Durumu**: Anizle iÃ§in baÅŸarÄ±/hata mesajlarÄ±
- **Temiz Loglar**: Sadece Ã¶nemli bilgiler gÃ¶steriliyor

### ğŸ“ Dosya YapÄ±sÄ± DeÄŸiÅŸiklikleri
#### ~ GÃ¼ncellenen Dosyalar:
- `turkanime_api/sources/anizle.py` - Tamamen yeniden yazÄ±ldÄ±
- `turkanime_api/sources/adapter.py` - oynat() metodu eklendi
- `turkanime_api/common/utils.py` - BIN_PATH eklendi
- `turkanime_api/gui/main.py` - Anizle GUI entegrasyonu
- `turkanime_api/cli/__main__.py` - proc None kontrolÃ¼

### ğŸ”’ GÃ¼venlik ve Kalite
#### + Eklenen Ã–zellikler:
- **Paralel Ä°ÅŸlem GÃ¼venliÄŸi**: Thread-safe video iÅŸleme
- **Timeout YÃ¶netimi**: Her istek iÃ§in 10 saniye limit
- **Graceful Fallback**: Hata durumunda uzak sunucu desteÄŸi

### ğŸ“ API AkÄ±ÅŸÄ± DokÃ¼mantasyonu
```
1. anizm.pro/getAnimeListForSearch â†’ Anime veritabanÄ± (4506 anime)
2. anizle.org/episode/{ID}/translator/{ID} â†’ Fansub video listesi
3. anizle.org/video/{ID} â†’ Player iframe URL
4. anizle.org/player/{ID} â†’ Packed JS (FirePlayer ID iÃ§erir)
5. anizmplayer.com/player/index.php?data={ID}&do=getVideo â†’ HLS stream
```

## ğŸ› DÃ¼zeltilen Hatalar
### Kritik Hatalar
- âœ… **AttributeError: 'AdapterVideo' has no attribute 'oynat'** - oynat() metodu eklendi
- âœ… **ImportError: cannot import name 'BIN_PATH'** - utils.py'ye BIN_PATH eklendi
- âœ… **AttributeError: 'NoneType' has no attribute 'returncode'** - None kontrolÃ¼ eklendi
- âœ… **WinError 216: Uyumsuz binary** - Sistem MPV fallback eklendi

### Performans SorunlarÄ±
- âœ… **YavaÅŸ Stream Getirme**: Paralel iÅŸleme ile 3x hÄ±zlandÄ±
- âœ… **Uzun Timeout'lar**: 60s â†’ 10s optimize edildi
- âœ… **Gereksiz Loglar**: HTTP hata mesajlarÄ± sessizleÅŸtirildi

### GUI SorunlarÄ±
- âœ… **Anizle GÃ¶rÃ¼nmÃ¼yor**: display_sources filtresine Anizle eklendi
- âœ… **Eksik Kaynak Durumu**: failed_sources listesine Anizle eklendi

## ğŸ“ˆ Performans ve Kalite Metrikleri
- **Stream Getirme HÄ±zÄ±**: ~30s â†’ ~13s (%57 iyileÅŸme)
- **Paralel Worker SayÄ±sÄ±**: 8 eÅŸzamanlÄ± iÅŸlem
- **Desteklenen Anime SayÄ±sÄ±**: 4506 anime (Anizle veritabanÄ±)
- **Yeni Ã–zellik SayÄ±sÄ±**: 15+ yeni Ã¶zellik
- **DÃ¼zeltilen Hata SayÄ±sÄ±**: 7 kritik hata

## ğŸ”„ GeÃ§iÅŸ ve Uyumluluk
### âš ï¸ Breaking Changes
- **Yok**: Bu sÃ¼rÃ¼m tamamen geriye uyumlu

### Yeni BaÄŸÄ±mlÄ±lÄ±klar
```toml
curl_cffi = "^0.5.0"  # Cloudflare bypass iÃ§in
```

### Ã–nerilen GÃ¼ncelleme AdÄ±mlarÄ±
```bash
# GÃ¼ncelleme iÃ§in
pip install --upgrade turkanime-gui

# Veya kaynak koddan
git pull origin main
pip install curl_cffi
poetry install
poetry build
```


## ğŸ“‹ Teknik Detaylar
### DeÄŸiÅŸtirilen Dosyalar
```
turkanime_api/sources/anizle.py        # +Tamamen yeniden yazÄ±ldÄ±
turkanime_api/sources/adapter.py       # +oynat() metodu
turkanime_api/common/utils.py          # +BIN_PATH tanÄ±mÄ±
turkanime_api/gui/main.py              # ~Anizle GUI entegrasyonu
turkanime_api/cli/__main__.py          # ~proc None kontrolÃ¼
```

### Yeni Fonksiyonlar
```python
# anizle.py
_unpack_js(packed_code)                # Dean Edwards unpacker
_extract_fireplayer_id(html)           # FirePlayer ID Ã§Ä±karma
_get_video_stream_from_player(id)      # HLS stream alma
_process_single_video(video_info)      # Paralel video iÅŸleme
get_episode_streams(slug, timeout)     # Ana stream fonksiyonu

# adapter.py
AdapterVideo.oynat(dakika_hatirla)     # Video oynatma

# utils.py
BIN_PATH                               # bin/ klasÃ¶r yolu
```




## ğŸ“ Destek ve Geri Bildirim
- **GitHub Issues**: [Sorun Bildir](https://github.com/barkeser2002/turkanime-gui/issues)
- **Discussions**: [Genel TartÄ±ÅŸmalar](https://github.com/barkeser2002/turkanime-gui/discussions)
- **Discord**: [Topluluk Sunucusu](https://discord.gg/tiky)

## ğŸ”— Ä°lgili BaÄŸlantÄ±lar
- **GitHub Repository**: https://github.com/barkeser2002/turkanime-gui
- **PyPI Package**: https://pypi.org/project/turkanime-gui/
- **Releases**: https://github.com/barkeser2002/turkanime-gui/releases

**Not**: Bu sÃ¼rÃ¼m, TÃ¼rkAnime Ä°ndirici'nin en bÃ¼yÃ¼k kaynak gÃ¼ncellemelerinden biridir. Anizle kaynaÄŸÄ±nÄ±n tam entegrasyonu ile kullanÄ±cÄ±lar artÄ±k 4500+ anime iÃ§eriÄŸine hÄ±zlÄ± ve gÃ¼venilir ÅŸekilde eriÅŸebilir.

ğŸ‡¹ğŸ‡· **Proudly made in Turkey** ğŸ‡¹ğŸ‡·